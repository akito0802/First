<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ようこそ！！</title>
  <style>
    :root{ --bg:#0b1020; --card:#151a2d; --text:#e6e8f2; --muted:#aab1c7; --accent:#7dd3fc; --bad:#ef4444; }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b1020,#0f1632);color:var(--text);
         font-family:system-ui,-apple-system,Segoe UI,Roboto,'Hiragino Kaku Gothic ProN','Noto Sans JP',sans-serif;
         min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:520px;background:var(--card);border-radius:20px;padding:28px;
          border:1px solid rgba(255,255,255,.08);box-shadow:0 10px 30px rgba(0,0,0,.35);text-align:center}
    h1{margin:0 0 8px;font-size:28px}
    p{margin:8px 0;color:var(--muted);font-size:16px}
    .row{display:flex;gap:10px;margin-top:18px;justify-content:center;flex-wrap:wrap}
    button{padding:12px 16px;border:none;border-radius:12px;cursor:pointer;color:#0b1020;font-weight:700}
    .danger{background:#ef4444;color:#fff} .muted{background:#273053;color:#dbe2ff}
  </style>
</head>
<body>
  <div class="card">
    <h1>ようこそ！！ 🎉</h1>
    <p id="hello">読み込み中…</p>
    <div class="row">
      <button class="muted" onclick="location.href='index.html'">トップへ</button>
      <button class="danger" id="logoutBtn">ログアウト</button>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCDWW0h9y7R9yUZ1avKbJY-5xR--vlshLs",
      authDomain: "project-7889282246917454283.firebaseapp.com",
      projectId: "project-7889282246917454283",
      storageBucket: "project-7889282246917454283.firebasestorage.app",
      messagingSenderId: "239216764798",
      appId: "1:239216764798:web:da7a78c35f8686c94cb52f",
      measurementId: "G-BWHQFKFTGK"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const hello = document.getElementById('hello');

    auth.onAuthStateChanged(function(user){
      if(!user){
        location.replace('index.html'); // ← 未ログインなら戻す（戻るボタン無効）
      }else{
        hello.textContent = user.email + " さん、ようこそ！！";
      }
    });

    document.getElementById('logoutBtn').onclick = async function(){
      await auth.signOut();
      location.replace('index.html');
    };
  </script>
</body>
</html>
